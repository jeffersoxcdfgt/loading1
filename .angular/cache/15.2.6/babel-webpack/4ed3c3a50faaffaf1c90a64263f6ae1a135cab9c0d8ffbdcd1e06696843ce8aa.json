{"ast":null,"code":"import { isObservable, of } from 'rxjs';\nimport { map, startWith, catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class WithLoadingPipe {\n  transform(val) {\n    debugger;\n    return isObservable(val) ? val.pipe(map(value => ({\n      loading: false,\n      value\n    })), startWith({\n      loading: true\n    }), catchError(error => of({\n      loading: false,\n      error\n    }))) : val;\n  }\n}\nWithLoadingPipe.ɵfac = function WithLoadingPipe_Factory(t) {\n  return new (t || WithLoadingPipe)();\n};\nWithLoadingPipe.ɵpipe = /*@__PURE__*/i0.ɵɵdefinePipe({\n  name: \"withLoading\",\n  type: WithLoadingPipe,\n  pure: true\n});","map":{"version":3,"mappings":"AACA,SAASA,YAAY,EAAEC,EAAE,QAAQ,MAAM;AACvC,SAASC,GAAG,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;AAK3D,OAAM,MAAOC,eAAe;EAC1BC,SAAS,CAACC,GAAO;IACf;IACA,OAAOP,YAAY,CAACO,GAAG,CAAC,GACpBA,GAAG,CAACC,IAAI,CACRN,GAAG,CAAEO,KAAU,KAAM;MAAEC,OAAO,EAAE,KAAK;MAAED;IAAK,CAAE,CAAC,CAAC,EAChDN,SAAS,CAAC;MAAEO,OAAO,EAAE;IAAI,CAAE,CAAC,EAC5BN,UAAU,CAACO,KAAK,IAAIV,EAAE,CAAC;MAAES,OAAO,EAAE,KAAK;MAAEC;IAAK,CAAE,CAAC,CAAC,CACnD,GACCJ,GAAG;EACT;;AAVWF,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;;QAAfA,eAAe;EAAAO;AAAA","names":["isObservable","of","map","startWith","catchError","WithLoadingPipe","transform","val","pipe","value","loading","error","pure"],"sourceRoot":"","sources":["/Users/jefferson.medina/Documents/loading/loading1/src/app/with-loading.pipe.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\nimport { isObservable, of } from 'rxjs';\nimport { map, startWith, catchError } from 'rxjs/operators';\n\n@Pipe({\n  name: 'withLoading',\n})\nexport class WithLoadingPipe implements PipeTransform {\n  transform(val:any) {\n    debugger\n    return isObservable(val)\n      ? val.pipe(\n        map((value: any) => ({ loading: false, value })),\n        startWith({ loading: true }),\n        catchError(error => of({ loading: false, error }))\n      )\n      : val;\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}